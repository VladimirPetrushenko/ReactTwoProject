{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","config.js","components/Preloader.jsx","components/ProductItem.jsx","components/ProductList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","require","config","Preloader","ProductItem","props","mainId","displayName","displayDescription","background","displayAssets","price","regularPrice","finalPrice","buy","src","alt","onClick","name","ProductList","items","length","map","item","Math","random","Cart","quantity","handleBasket","BasketItem","removeOrder","handleQuantity","value","BasketList","orders","total","reduce","sum","el","Alert","closeAlert","Function","prototype","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setItems","loading","setLoading","setOrders","isBasketShow","setBasketShow","alertName","setAlertName","handleBasketShow","fetch","headers","process","then","response","json","data","shop","itemIndex","findIndex","order","newItem","newOrder","index","newOrders","filter","notZeroQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.21fb8fc2.chunk.js","sourcesContent":["export function Header(){\r\n    return <nav className=\"light-green lighten-1\">\r\n    <div className=\"nav-wrapper\" >\r\n      <a href=\"!#\" className=\"brand-logo\">React Shop Fortnite</a>\r\n      <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n        <li><a href=\"!#\">Repository</a></li>\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n}\r\n","export function Footer(){\r\n    return <footer className=\"page-footer light-green lighten-3\">\r\n      <div className=\"container\">\r\n      © {new Date().getFullYear()} Copyright Text\r\n      <a className=\"grey-text text-lighten-4 right\" href=\"#!\">Shop Fortnite</a>\r\n      </div>\r\n  </footer>\r\n}\r\n","require('dotenv').config()\r\n\r\nexport const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nexport const API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';","export const Preloader = () => {\r\n    return <div className=\"progress\">\r\n                <div className=\"indeterminate\"></div>\r\n            </div>\r\n}","export const ProductItem = (props) =>{\r\n    const {\r\n      mainId, \r\n      displayName, \r\n      displayDescription, \r\n      displayAssets: [{\r\n        background,\r\n      },],\r\n      price:{\r\n        regularPrice,\r\n        finalPrice,\r\n      },\r\n      buy, \r\n    } = props;\r\n\r\n    return <div className=\"card\">\r\n              <div className=\"card-image\">\r\n                <img src={background} alt={displayName}/>\r\n              </div>\r\n              <div className=\"card-content\">\r\n                <span className=\"card-title\">{displayName}</span>\r\n                <p>{displayDescription}</p>\r\n              </div>\r\n              <div className=\"card-action\">\r\n                <button className=\"btn\" onClick={()=>buy({id: mainId, price: finalPrice, name: displayName,})}>Buy</button>\r\n                {finalPrice===regularPrice ? \r\n                  <span className='right'>{finalPrice} руб.</span>\r\n                  : <div className=\"right\">\r\n                      <span className='right finalPrice'>{finalPrice} руб.</span>\r\n                      <span className=\"right regularPrice\">{regularPrice}</span>\r\n                  </div>\r\n                }\r\n              </div>\r\n            </div>\r\n}","import {ProductItem} from './ProductItem'\r\n\r\nexport const ProductList = (props) => {\r\n    const { items = [], buy} = props;\r\n    if(!items.length){\r\n        return <h3 key={Math.random()}>Nothing here</h3>\r\n    }\r\n    return <div className=\"productList\">\r\n            {\r\n                items.map((item)=>{\r\n                    return <ProductItem key={item.id} {...item} buy = {buy}/>\r\n                })\r\n            }\r\n            </div>\r\n}","\r\n\r\nexport const Cart = (props) => {\r\n    const {quantity, handleBasket} = props;\r\n\r\n    return <div className=\"cart green lighten-2 white-text\" onClick={()=>handleBasket()}>\r\n        <i className=\"material-icons\">shopping_cart</i>\r\n        {quantity? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n    </div>\r\n}","export const BasketItem = (props) => {\r\n    const { id, name, price, quantity, removeOrder, handleQuantity } = props;\r\n\r\n    return (\r\n        <li className=\"collection-item\">\r\n            {name}\r\n            <i\r\n                className=\"material-icons basket-quantity\"\r\n                onClick={() => handleQuantity({ id: id, value: quantity - 1 })}\r\n            >\r\n                remove\r\n            </i>{' '}\r\n            x{quantity}{' '}\r\n            <i\r\n                className=\"material-icons basket-quantity\"\r\n                onClick={() => handleQuantity({ id: id, value: quantity + 1 })}\r\n            >\r\n                add\r\n            </i>{' '}\r\n            = {quantity * price} руб.\r\n            <span className=\"secondary-content\">\r\n                <i\r\n                    className=\"material-icons basket-close-pointer\"\r\n                    onClick={() => removeOrder(id)}\r\n                >\r\n                    clear\r\n                </i>\r\n            </span>\r\n        </li>\r\n    );\r\n};\r\n","import { BasketItem } from './BasketItem';\r\n\r\nexport const BasketList = (props) => {\r\n    const { orders = [], handleBasket, removeOrder, handleQuantity } = props;\r\n    const total = orders.reduce((sum, el) => {\r\n        return sum + el.price * el.quantity;\r\n    }, 0);\r\n    return (\r\n        <ul className=\"collection basket-list\">\r\n            <li className=\"collection-item active\">\r\n                Корзина\r\n                <span className=\"secondary-content basket-close-pointer\">\r\n                    <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => handleBasket()}\r\n                    >\r\n                        clear\r\n                    </i>\r\n                </span>\r\n            </li>\r\n            {orders.length ? (\r\n                orders.map((item) => {\r\n                    return (\r\n                        <BasketItem\r\n                            key={item.id}\r\n                            {...item}\r\n                            removeOrder={removeOrder}\r\n                            handleQuantity={handleQuantity}\r\n                        />\r\n                    );\r\n                })\r\n            ) : (\r\n                <li className=\"collection-item\">Корзина пуста</li>\r\n            )}\r\n            <li className=\"collection-item active\">\r\n                Общая стоимость: {total}руб.{' '}\r\n                <button className=\"secondary-content btn-small submit-basket\">Оформить заказ</button>\r\n            </li>\r\n        </ul>\r\n    );\r\n};\r\n","import { useEffect } from \"react\";\r\n\r\nexport const Alert = (props) => {\r\n    const {name='', closeAlert = Function.prototype} = props;\r\n\r\n    useEffect(()=>{\r\n        const timerId = setTimeout( closeAlert , 3000);\r\n\r\n        return ()=>{clearTimeout(timerId)};\r\n    //eslint-disable-next-line\r\n    }, [name]);\r\n\r\n    return  <div id=\"toast-container\">\r\n                <div className=\"toast\">\r\n                    {name} добавлен в корзину\r\n                </div>\r\n            </div>\r\n}","import React, {useState, useEffect} from 'react'\r\nimport {API_KEY} from '../config'\r\nimport {API_URL} from '../config'\r\n\r\nimport {Preloader} from './Preloader'\r\nimport {ProductList} from './ProductList'\r\nimport {Cart} from './Cart'\r\nimport { BasketList } from \"./BasketList\";\r\nimport { Alert } from \"./Alert\";\r\n\r\nexport const Shop = () => {\r\n    const [items, setItems] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [orders, setOrders] = useState([]);\r\n    const [isBasketShow, setBasketShow] = useState(false)\r\n    const [alertName, setAlertName] = useState('');\r\n\r\n\r\n    const handleBasketShow = () => {\r\n        setBasketShow(!isBasketShow);\r\n    }\r\n\r\n    const addOrder = (item) =>{\r\n        const itemIndex = orders.findIndex(order=>order.id===item.id)\r\n\r\n        if(itemIndex<0){\r\n            const newItem = {\r\n                ...item,\r\n                quantity:1,\r\n            }\r\n            setOrders([...orders, newItem]);\r\n        }\r\n        else{\r\n            const newOrder = \r\n            orders.map((order,index) => {\r\n                if(index===itemIndex){\r\n                    return{\r\n                        ...order,\r\n                        quantity:order.quantity + 1,\r\n                    }\r\n                }\r\n                else{\r\n                    return order;\r\n                }})\r\n            setOrders(newOrder);      \r\n        }\r\n        setAlertName(item.name);\r\n    }\r\n    const removeOrder = (id) =>{\r\n        const newOrders = orders.filter(order=>order.id!==id)\r\n        setOrders(newOrders);      \r\n    }\r\n\r\n    const handleQuantity = (item) =>{\r\n        const newOrder = orders.map( order => {\r\n                if(order.id===item.id){\r\n                    return{\r\n                        ...order,\r\n                        quantity:item.value,\r\n                    };\r\n                }\r\n                else{\r\n                    return order;\r\n                }})\r\n        const notZeroQuantity = newOrder.filter(order=>order.quantity>0)\r\n        setOrders(notZeroQuantity);\r\n    }\r\n\r\n    const closeAlert = () => {\r\n        setAlertName('');\r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetch(API_URL, {\r\n            headers: {'Authorization' : API_KEY}\r\n        }).then(response=>response.json())\r\n        .then(data =>{ \r\n            data.shop ? setItems(data.shop) : setItems([]);\r\n            setLoading(false);\r\n        });\r\n    }, [])\r\n\r\n    return <main className=\"container content\">\r\n            <Cart quantity={orders.length} handleBasket={handleBasketShow}/>\r\n        {loading ? <Preloader /> : <ProductList items={items} buy={addOrder}/>}\r\n        {isBasketShow && <BasketList orders={orders} handleBasket={handleBasketShow} removeOrder={removeOrder} handleQuantity={handleQuantity}/>}\r\n        {alertName && <Alert name={alertName} closeAlert={closeAlert}/>}\r\n    </main>\r\n}","import React from \"react\";\nimport { Header } from \"./components/Header\";\nimport { Footer } from \"./components/Footer\";\nimport { Shop } from \"./components/Shop\";\nexport function App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
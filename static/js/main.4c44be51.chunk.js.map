{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","config.js","reducer/reducer.js","context/context.js","components/Preloader.jsx","components/ProductItem.jsx","components/ProductList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","require","config","reducer","state","type","payload","items","loading","itemIndex","orders","findIndex","order","newOrder","newItem","quantity","map","index","alertName","name","filter","isBasketShow","value","ShopContext","createContext","initialState","ContextProvider","children","useReducer","dispatch","removeOrder","itemId","addOrder","item","closeAlert","handleBasketShow","handleQuantity","setProducts","data","Provider","Preloader","ProductItem","props","mainId","displayName","displayDescription","background","displayAssets","price","regularPrice","finalPrice","useContext","src","alt","onClick","ProductList","length","Math","random","Cart","BasketItem","BasketList","total","reduce","sum","el","Alert","Function","prototype","useEffect","timerId","setTimeout","clearTimeout","Shop","fetch","headers","Authorization","process","then","response","json","shop","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4c44be51.chunk.js","sourcesContent":["export function Header(){\r\n    return <nav className=\"light-green lighten-1\">\r\n    <div className=\"nav-wrapper\" >\r\n      <a href=\"/\" className=\"brand-logo\">React Shop Fortnite</a>\r\n      <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n        <li><a href=\"https://github.com/VladimirPetrushenko/ReactTwoProject/tree/main/shopproject\">Repository</a></li>\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n}\r\n","export function Footer(){\r\n    return <footer className=\"page-footer light-green lighten-3\">\r\n      <div className=\"container\">\r\n      © {new Date().getFullYear()} Copyright Text\r\n      <a className=\"grey-text text-lighten-4 right\" href=\"https://fortniteapi.io/\">Fortnite api</a>\r\n      </div>\r\n  </footer>\r\n}\r\n","require('dotenv').config()\r\n\r\nexport const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nexport const API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';","export const reducer = (state, {type, payload}) =>{\r\n    switch(type){\r\n        case 'SET_PRODUCTS':\r\n            return {\r\n                ...state,\r\n                items: payload || [],\r\n                loading: false,\r\n            };\r\n        case 'ADD_ORDER':\r\n            const itemIndex = state.orders.findIndex(order=>order.id===payload.id)\r\n            let newOrder = null;\r\n            if(itemIndex<0){\r\n                const newItem = {\r\n                    ...payload,\r\n                    quantity:1,\r\n                }\r\n                newOrder = [...state.orders, newItem];\r\n            }\r\n            else{\r\n                newOrder = state.orders.map((order,index) => {\r\n                    if(index===itemIndex){\r\n                        return{\r\n                            ...order,\r\n                            quantity:order.quantity + 1,\r\n                        }\r\n                    }\r\n                    else{\r\n                        return order;\r\n                    }});  \r\n            }\r\n            return {\r\n                ...state,\r\n                orders: newOrder,\r\n                alertName: payload.name,\r\n            } ;\r\n        case 'REMOVE_ORDER':\r\n            return {\r\n                ...state,\r\n                orders: state.orders.filter(order=>order.id!==payload.id),\r\n            };\r\n        case 'HANDLE_BASKET_SHOW':\r\n            return {\r\n                ...state,\r\n                isBasketShow: !state.isBasketShow,\r\n            };\r\n        case 'HANDLE_QUANTITY':\r\n            return {\r\n                ...state,\r\n                orders: state.orders.map( order => {\r\n                    if(order.id===payload.id){\r\n                        return{\r\n                            ...order,\r\n                            quantity:payload.value,\r\n                        };\r\n                    }\r\n                    else{\r\n                        return order;\r\n                    }})\r\n                    .filter(order=>order.quantity>0),\r\n            };\r\n        case 'CLOSE_ALERT':\r\n            return {\r\n                ...state,\r\n                alertName:'',\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {createContext, useReducer} from 'react'\r\nimport { reducer } from \"../reducer/reducer\";\r\n\r\nexport const ShopContext = createContext();\r\n\r\nconst initialState = {\r\n    items : [],\r\n    loading: true,\r\n    orders: [],\r\n    isBasketShow: false,\r\n    alertName: '',\r\n}\r\n\r\nexport const ContextProvider = ({children}) =>{\r\n\r\n    const [value, dispatch] = useReducer(reducer, initialState);\r\n\r\n    value.removeOrder = (itemId) =>{\r\n        dispatch({type: 'REMOVE_ORDER', payload: {id: itemId}});\r\n    }\r\n    value.addOrder = (item) =>{\r\n        dispatch({type: 'ADD_ORDER', payload: item});\r\n    }\r\n    value.closeAlert = () =>{ \r\n        dispatch({type: 'CLOSE_ALERT'});\r\n    };\r\n    value.handleBasketShow = () =>{\r\n        dispatch({type: 'HANDLE_BASKET_SHOW'});\r\n    }\r\n    value.handleQuantity = (item) =>{\r\n        dispatch({type: 'HANDLE_QUANTITY', payload: item});\r\n    }\r\n    value.setProducts = (data) =>{\r\n        dispatch({type: 'SET_PRODUCTS', payload: data});\r\n    }\r\n    \r\n\r\n    return <ShopContext.Provider value={value}>\r\n        {children}\r\n    </ShopContext.Provider>\r\n}","export const Preloader = () => {\r\n    return <div className=\"progress\">\r\n                <div className=\"indeterminate\"></div>\r\n            </div>\r\n}","import { useContext } from \"react\";\r\nimport { ShopContext } from \"../context/context\";\r\n\r\nexport const ProductItem = (props) =>{\r\n    const {\r\n      mainId, \r\n      displayName, \r\n      displayDescription, \r\n      displayAssets: [{\r\n        background,\r\n      },],\r\n      price:{\r\n        regularPrice,\r\n        finalPrice,\r\n      },\r\n    } = props;\r\n\r\n    const {addOrder} = useContext(ShopContext);\r\n\r\n\r\n\r\n    return <div className=\"card\">\r\n              <div className=\"card-image\">\r\n                <img src={background} alt={displayName}/>\r\n              </div>\r\n              <div className=\"card-content\">\r\n                <span className=\"card-title\">{displayName}</span>\r\n                <p>{displayDescription}</p>\r\n              </div>\r\n              <div className=\"card-action\">\r\n                <button className=\"btn\" onClick={()=>addOrder({id: mainId, price: finalPrice, name: displayName,})}>Buy</button>\r\n                {finalPrice===regularPrice ? \r\n                  <span className='right'>{finalPrice} руб.</span>\r\n                  : <div className=\"right\">\r\n                      <span className='right finalPrice'>{finalPrice} руб.</span>\r\n                      <span className=\"right regularPrice\">{regularPrice}</span>\r\n                  </div>\r\n                }\r\n              </div>\r\n            </div>\r\n}","import { useContext } from \"react\";\r\nimport { ShopContext } from \"../context/context\";\r\nimport {ProductItem} from './ProductItem'\r\n\r\nexport const ProductList = () => {\r\n    const { items = []} = useContext(ShopContext);\r\n    if(!items.length){\r\n        return <h3 key={Math.random()}>Nothing here</h3>\r\n    }\r\n    return <div className=\"productList\">\r\n            {\r\n                items.map((item)=>{\r\n                    return <ProductItem key={item.id} {...item}/>\r\n                })\r\n            }\r\n            </div>\r\n}","import { useContext } from \"react\";\r\nimport { ShopContext } from \"../context/context\";\r\n\r\nexport const Cart = (props) => {\r\n    const {quantity} = props;\r\n    const {handleBasketShow} = useContext(ShopContext)\r\n\r\n    return <div className=\"cart green lighten-2 white-text\" onClick={()=>handleBasketShow()}>\r\n        <i className=\"material-icons\">shopping_cart</i>\r\n        {quantity? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n    </div>\r\n}","import { useContext } from \"react\";\r\nimport { ShopContext } from \"../context/context\";\r\n\r\nexport const BasketItem = (props) => {\r\n    const { id, name, price, quantity} = props;\r\n\r\n    const {removeOrder, handleQuantity} = useContext(ShopContext);\r\n\r\n    return (\r\n        <li className=\"collection-item\">\r\n            {name}\r\n            <i\r\n                className=\"material-icons basket-quantity\"\r\n                onClick={() => handleQuantity({ id: id, value: quantity - 1 })}\r\n            >\r\n                remove\r\n            </i>{' '}\r\n            x{quantity}{' '}\r\n            <i\r\n                className=\"material-icons basket-quantity\"\r\n                onClick={() => handleQuantity({ id: id, value: quantity + 1 })}\r\n            >\r\n                add\r\n            </i>{' '}\r\n            = {quantity * price} руб.\r\n            <span className=\"secondary-content\">\r\n                <i\r\n                    className=\"material-icons basket-close-pointer\"\r\n                    onClick={() => removeOrder(id)}\r\n                >\r\n                    clear\r\n                </i>\r\n            </span>\r\n        </li>\r\n    );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { ShopContext } from \"../context/context\";\r\nimport { BasketItem } from './BasketItem';\r\n\r\nexport const BasketList = () => {\r\n    const { orders = [], handleBasketShow} = useContext(ShopContext);\r\n    const total = orders.reduce((sum, el) => {\r\n        return sum + el.price * el.quantity;\r\n    }, 0);\r\n    return (\r\n        <ul className=\"collection basket-list\">\r\n            <li className=\"collection-item active\">\r\n                Корзина\r\n                <span className=\"secondary-content basket-close-pointer\">\r\n                    <i\r\n                        className=\"material-icons\"\r\n                        onClick={() => handleBasketShow()}\r\n                    >\r\n                        clear\r\n                    </i>\r\n                </span>\r\n            </li>\r\n            {orders.length ? (\r\n                orders.map((item) => {\r\n                    return (\r\n                        <BasketItem\r\n                            key={item.id}\r\n                            {...item}\r\n                        />\r\n                    );\r\n                })\r\n            ) : (\r\n                <li className=\"collection-item\">Корзина пуста</li>\r\n            )}\r\n            <li className=\"collection-item active\">\r\n                Общая стоимость: {total}руб.{' '}\r\n                <button className=\"secondary-content btn-small submit-basket\">Оформить заказ</button>\r\n            </li>\r\n        </ul>\r\n    );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { ShopContext } from \"../context/context\";\r\n\r\nimport { useEffect } from \"react\";\r\n\r\nexport const Alert = () => {\r\n    const {alertName='', closeAlert = Function.prototype} = useContext(ShopContext);\r\n\r\n    useEffect(()=>{\r\n        const timerId = setTimeout( closeAlert , 3000);\r\n\r\n        return ()=>{clearTimeout(timerId)};\r\n    //eslint-disable-next-line\r\n    }, [alertName]);\r\n\r\n    return  <div id=\"toast-container\">\r\n                <div className=\"toast\">\r\n                    {alertName} добавлен в корзину\r\n                </div>\r\n            </div>\r\n}","import React, { useEffect, useContext } from 'react';\r\nimport { API_KEY } from '../config';\r\nimport { API_URL } from '../config';\r\n\r\nimport { ShopContext } from '../context/context';\r\n\r\nimport { Preloader } from './Preloader';\r\nimport { ProductList } from './ProductList';\r\nimport { Cart } from './Cart';\r\nimport { BasketList } from './BasketList';\r\nimport { Alert } from './Alert';\r\n\r\nexport const Shop = () => {\r\n    const {\r\n        loading,\r\n        orders,\r\n        isBasketShow,\r\n        alertName,\r\n        setProducts,\r\n    } = useContext(ShopContext);\r\n\r\n    useEffect(() => {\r\n        fetch(API_URL, {\r\n            headers: { Authorization: API_KEY },\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                setProducts(data.shop);\r\n            });\r\n        //eslint-disable-next-line\r\n    }, []);\r\n\r\n    return (\r\n        <main className=\"container content\">\r\n            <Cart quantity={orders.length} />\r\n            {loading ? <Preloader /> : <ProductList/>}\r\n            {isBasketShow && <BasketList />}\r\n            {alertName && <Alert/>}\r\n        </main>\r\n    );\r\n};\r\n","import React from \"react\";\nimport { Header } from \"./components/Header\";\nimport { Footer } from \"./components/Footer\";\nimport { Shop } from \"./components/Shop\";\nimport { ContextProvider } from \"./context/context\";\nexport function App() {\n  return (\n    <>\n      <Header />\n      <ContextProvider>\n        <Shop />\n      </ContextProvider>\n      <Footer />\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}